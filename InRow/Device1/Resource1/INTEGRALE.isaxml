<?xml version="1.0" encoding="utf-8"?>
<Pou FileVersion="200.00.003" Name="INTEGRALE" ElementGuid="1d4941b6-8352-4563-88ad-a198aedc4c7c" Comment="{\rtf1\ansi\ansicpg1252\uc1\htmautsp\deff2{\fonttbl{\f0\fcharset0 Times New Roman;}{\f2\fcharset0 Arial;}}{\colortbl\red0\green0\blue0;\red255\green255\blue255;}\loch\hich\dbch\pard\plain\ltrpar\itap0{\lang1033\fs18\f2\cf0 \cf0\ql{\f2 {\lang1040\ltrch EN}\li0\ri0\sa0\sb0\fi0\ql\par}&#xD;&#xA;{\f2 {\lang1040\ltrch This function implements the numerical calculation of the integral of the input signal according to the code reported in:}\li0\ri0\sa0\sb0\fi0\ql\par}&#xD;&#xA;{\f2 {\lang1040\ltrch R.W. Lewis, &quot;Programming Industrial Control Systems Using IEC 1131-3&quot;, IET Control Engineering Series 50, p.237}\li0\ri0\sa0\sb0\fi0\ql\par}&#xD;&#xA;{\f2 {\lang1040\ltrch }\li0\ri0\sa0\sb0\fi0\ql\par}&#xD;&#xA;{\f2 {\lang1040\ltrch Note:}\li0\ri0\sa0\sb0\fi0\ql\par}&#xD;&#xA;{\f2 {\lang1040\ltrch \~\~\~\~ Compared to the original code, I made the only following change.}\li0\ri0\sa0\sb0\fi0\ql\par}&#xD;&#xA;{\f2 {\lang1040\ltrch \~\~\~\~ The original code provides (as an input variable) the CONSTANT cycle time.}\li0\ri0\sa0\sb0\fi0\ql\par}&#xD;&#xA;{\f2 {\lang1040\ltrch \~\~\~\~ I deleted this variable and implemented the calculation of the duration of the last cycle internally using the system variable that supplies the current time.}\li0\ri0\sa0\sb0\fi0\ql\par}&#xD;&#xA;{\f2 {\lang1040\ltrch \~\~\~\~ This function allows to estimate the integral of the input signal without introducing errors and / or}\li0\ri0\sa0\sb0\fi0\ql\par}&#xD;&#xA;{\f2 {\lang1040\ltrch noise due to non-constant sampling time.}\li0\ri0\sa0\sb0\fi0\ql\par}&#xD;&#xA;{\f2 {\lang1040\ltrch }\li0\ri0\sa0\sb0\fi0\ql\par}&#xD;&#xA;{\f2 {\lang1040\ltrch IT}\li0\ri0\sa0\sb0\fi0\ql\par}&#xD;&#xA;{\f2 {\lang1040\ltrch Questa funzione implementa il calcolo numerico dell'integrale del segnale in ingresso secondo il codice riportato in: }\li0\ri0\sa0\sb0\fi0\ql\par}&#xD;&#xA;{\f2 {\lang1040\ltrch R.W. Lewis, &quot;Programming Industrial Control Systems Using IEC 1131-3&quot;, IET Control Engineering Series 50, pag.237}\li0\ri0\sa0\sb0\fi0\ql\par}&#xD;&#xA;{\f2 \li0\ri0\sa0\sb0\fi0\ql\par}&#xD;&#xA;{\f2 {\lang1040\ltrch Nota:}\li0\ri0\sa0\sb0\fi0\ql\par}&#xD;&#xA;{\f2 {\lang1040\ltrch     Rispetto al codice originale, ho apportato la unica seguente modifica.}\li0\ri0\sa0\sb0\fi0\ql\par}&#xD;&#xA;{\f2 {\lang1040\ltrch     Il codice originale prevede (come variabile in ingresso) il tempo di ciclo COSTANTE. }\li0\ri0\sa0\sb0\fi0\ql\par}&#xD;&#xA;{\f2 {\lang1040\ltrch     Io ho eliminato questa variabile e ho implementato internamente al codice il calcolo della durata dell'ultimo ciclo utilizzando la variabile di sistema che fornisce il tempo attuale. }\li0\ri0\sa0\sb0\fi0\ql\par}&#xD;&#xA;{\f2 {\lang1040\ltrch     Questa funzione permette di stimare l'integrale del segnale in ingresso senza introdurre errori e/o }\li0\ri0\sa0\sb0\fi0\ql\par}&#xD;&#xA;{\f2 {\lang1040\ltrch \tab rumore dovuti al tempo di campionamento non costante.}\li0\ri0\sa0\sb0\fi0\ql\par}&#xD;&#xA;}&#xD;&#xA;}" SingleTextLine="Calculate the integral of the XIN signal considering the initial value X0." Language="ST" CustomFbd="0" Localization="Prj" GroupName="(User defined)" Password="E4BDBA2BEF6CC4DC" GenDebugInfo="false" UseResPassword="true" GenerateSymbMon="true" Is1499="false">
  <FunctionBlock IdentifierNb="0" Keyword="" InitInstance="false" SymbMonExtraBytes="128" />
  <LocalVars>
    <Variable Name="RUN" DataType="BOOL" InitialValue="" Comment="1 - Integrate, 0 - Hold" Address="" Modifier="Constant" Kind="VarInput" Alias="" AccessRights="Read" StringSize="0" Direction="Input" CommentFields="" Attributes="0" />
    <Variable Name="R1" DataType="BOOL" InitialValue="" Comment="Reset" Address="" Modifier="Constant" Kind="VarInput" Alias="" AccessRights="Read" StringSize="0" Direction="Input" CommentFields="" Attributes="0" />
    <Variable Name="X0" DataType="REAL" InitialValue="" Comment="Initial value" Address="" Modifier="Constant" Kind="VarInput" Alias="" AccessRights="Read" StringSize="0" Direction="Input" CommentFields="" Attributes="0" />
    <Variable Name="XIN" DataType="REAL" InitialValue="" Comment="Input for integral" Address="" Modifier="Constant" Kind="VarInput" Alias="" AccessRights="Read" StringSize="0" Direction="Input" CommentFields="" Attributes="0" />
    <Variable Name="Q" DataType="BOOL" InitialValue="" Comment="1 - Not resetting, 0 - resetting now" Address="" Modifier="Constant" Kind="VarOutput" Alias="" AccessRights="ReadWrite" StringSize="0" Direction="Output" CommentFields="" Attributes="0" />
    <Variable Name="XOUT" DataType="REAL" InitialValue="" Comment="Integral output" Address="" Modifier="Constant" Kind="VarOutput" Alias="" AccessRights="ReadWrite" StringSize="0" Direction="Output" CommentFields="" Attributes="0" />
    <Variable Name="CYCLE" DataType="REAL" InitialValue="" Comment="Latest cycle time (seconds)" Address="" Modifier="Constant" Kind="Var" Alias="" AccessRights="ReadWrite" StringSize="0" Direction="Local" CommentFields="" Attributes="0" />
    <Variable Name="t" DataType="REAL" InitialValue="" Comment="Actual time (seconds)" Address="" Modifier="Constant" Kind="Var" Alias="" AccessRights="ReadWrite" StringSize="0" Direction="Local" CommentFields="" Attributes="0" />
    <Variable Name="t_p" DataType="REAL" InitialValue="" Comment="Previous time (seconds)" Address="" Modifier="Constant" Kind="Var" Alias="" AccessRights="ReadWrite" StringSize="0" Direction="Local" CommentFields="" Attributes="0" />
  </LocalVars>
  <PouBody><![CDATA[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]]></PouBody>
  <PouUIProperties><![CDATA[PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4NCjxSb290IFZlcnNpb249IjciPg0KICA8TGFuZ3VhZ2VDb250YWluZXJTdHlsZSBDb21tZW50VGV4dENvbG9yPSJHcmVlbiIgQ29tbWVudEZvbnQ9IkNvdXJpZXIgTmV3LCAxMHB0IiBQb25jdHVhdGlvblRleHRDb2xvcj0iQmxhY2siIFBvbmN0dWF0aW9uRm9udD0iQ291cmllciBOZXcsIDEwcHQiIElkZW50aWZpZXJUZXh0Q29sb3I9IkJsYWNrIiBJZGVudGlmaWVyRm9udD0iQ291cmllciBOZXcsIDEwcHQiIE9wZXJhdG9yVGV4dENvbG9yPSJCbGFjayIgT3BlcmF0b3JGb250PSJDb3VyaWVyIE5ldywgMTBwdCIgUmVzZXJ2ZWRXb3JkVGV4dENvbG9yPSJCbHVlIiBSZXNlcnZlZFdvcmRGb250PSJDb3VyaWVyIE5ldywgMTBwdCIgUG91VGV4dENvbG9yPSJCbHVlVmlvbGV0IiBQb3VGb250PSJDb3VyaWVyIE5ldywgMTBwdCIgTnVtYmVyVGV4dENvbG9yPSJEYXJrUmVkIiBOdW1iZXJGb250PSJDb3VyaWVyIE5ldywgMTBwdCIgU3RyaW5nVGV4dENvbG9yPSJEYXJrUmVkIiBTdHJpbmdGb250PSJDb3VyaWVyIE5ldywgMTBwdCIgRWRpdG9yVGV4dEFyZWFCYWNrZ3JvdW5kQ29sb3I9IldoaXRlIiBFZGl0b3JGb250PSJDb3VyaWVyIE5ldywgMTBwdCIgSW5kZXg9IjAiIC8+DQo8L1Jvb3Q+]]></PouUIProperties>
</Pou>